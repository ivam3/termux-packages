#!/data/data/com.termux/files/usr/bin/bash
IFS=$'\n\t'
arch1=$(uname -a|grep -o 'arm'|head -n1)
arch2=$(uname -a|grep -o 'Android'|head -n1)
[[ $arch1 = 'arm' ]] || [[ $arch2 = 'Android' ]] && arch=arm || arch=386
wget -q https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-$arch.zip -O ${TMPDIR}/ngrok-stable-linux-$arch.zip
if [[ -e ${TMPDIR}/ngrok-stable-linux-$arch.zip ]];then
	unzip -q ${TMPDIR}/ngrok-stable-linux-$arch.zip -d ${HOME}/.local/share
	rm -rf ${TMPDIR}/ngrok-stable-linux-$arch.zip
	chmod +x ${HOME}/.local/share/ngrok
	PS3="Type: "
	echo -en $Y"W:$W Ngrok needs an authtoken from ngrok.com\n"
	select way in Set_authtoken Skip_this_step;do
		case $way in
			Set_authtoken)
				while read -p "authtoken: " token && [ -z $token ]
				do
					continue
				done
				exec ${HOME}/.local/share/ngrok authtoken $token
				break
				;;
			*)
				echo -en $Y"W:$W You can set it with: ngrok authtoken <your-token>\n"
				break
				;;
		esac
	done
else
	echo -en $R"E: 404 -$W Ngrok server not found.\n"
fi
exit 0
####::: REPORT ISSUES AT https://t.me/Ivam3_Bot :::####
