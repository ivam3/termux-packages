#!/data/data/com.termux/files/usr/bin/bash
IFS=$'\n\t'
echo "Cloning repository ..."
git clone --quiet https://github.com/digininja/CeWL ${HOME}/.local/share/cewl
[[ -d ${HOME}/.local/share/cewl ]] && {
  echo "Installing ruby gems ...";
  chmod 751 -R ${HOME}/.local/share/cewl;
  gem install --no-document --verbose rubygems-update;
  update_rubygems;
  gem install --no-document --verbose bundler;
  bundle install -j$(nproc --all) --verbose;
  bundle update --bundler
  echo -en "\e[33mWARNING:\e[0m Please answer questions with an 'y'(YES) or '3'(ALL)";
  gem uninstall nokogiri
  gem install nokogiri --platform=ruby -- --use-system-libraries;
  bundle config build.nokogiri --use-system-libraries;
} || {
  echo -en "\e[31mE:\e[0m cewl directory missing ... \e[33mAborting.\e[0m\n";
  exit 1;
}
exit 0
####::: REPORT ISSUES AT https://t.me/Ivam3_Bot :::####
