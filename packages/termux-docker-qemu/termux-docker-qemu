#!/data/data/com.termux/files/usr/bin/bash
# COLORS
W="\e[0m"
R="\e[31m"
G="\e[32m"
Y="\e[33m"
B="\e[34m"

[[ $2 == 'x11' ]] 2>/dev/null || { XorCLI="-nographic";}
[[ $# -eq 0 ]] && { echo -en "\e[33mUsage:\e[0m $0 <operative system name> x11[for a grafical enviroment]";exit;}

if [[ -d ${HOME}/.local/share/termux-docker-qemu/$1 ]]
then
  cd ${HOME}/.local/share/termux-docker-qemu/$1
  qemu-system-x86_64 -machine q35 -m 1024 -smp cpus=2 -cpu qemu64 \
    -drive if=pflash,format=raw,read-only=on,file=$PREFIX/share/qemu/edk2-x86_64-code.fd \
    -netdev user,id=n1,hostfwd=tcp::2222-:22 -device virtio-net,netdev=n1 \
    $XorCLI $1.img
else
  echo -en $R"E:$W $(basename $0) PATH missing ...$Y Aborting.$W"
  exit 1
fi
####::: REPORT ISSUES AT https://t.me/Ivam3_Bot :::####
