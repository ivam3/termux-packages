#!/data/data/com.termux/files/usr/bin/bash
IFS=$'\n\t'
echo "Downloading repository ..."
wget --tries=20 --quiet https://github.com/elcuervo/tangalanga/archive/refs/tags/v0.1-regular.zip \
  -O ${TMPDIR}/tangalanga.zip
[[ -e ${TMPDIR}/tangalanga.zip ]] && {
  mkdir -p ${HOME}/go/pkg/mod/github.com/elcuervo/tangalanga
  unzip -q ${TMPDIR}/tangalanga.zip -d ${HOME}/go/pkg/mod/github.com/elcuervo/tangalanga
  if [[ -d ${HOME}/go/pkg/mod/github.com/elcuervo/tangalanga/tangalanga-0.1-regular ]]; then
    echo "Compiling (It could take a while)..."
    chmod 751 -R ${HOME}/go/pkg/mod/github.com/elcuervo/tangalanga/tangalanga-0.1-regular;
    cd ${HOME}/go/pkg/mod/github.com/elcuervo/tangalanga/tangalanga-0.1-regular;
    go get;
    go build;
    go install;
  else
    echo -en "\e[31mE:\e[0m Compilation failed."
    exit 1
  fi
} || {
  echo -en "\e[31mE:\e[0m tangalanga directory missing ... \e[33mAborting.\e[0m\n";
  exit 1;
}
exit 0
####::: REPORT ISSUES AT https://t.me/Ivam3_Bot :::####
