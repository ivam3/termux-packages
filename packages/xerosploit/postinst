#!/data/data/com.termux/files/usr/bin/bash
IFS=$'\n\t'
echo "Cloning repository ..."
git clone --quiet https://github.com/LionSec/xerosploit ${HOME}/.local/share/xerosploit
[[ -d ${HOME}/.local/share/xerosploit ]] && {
  echo "Installing python modules ...";
  python2 -m pip install --upgrade pip;
  python2 -m pip --no-color --quiet --no-cache-dir install tabulate terminaltables;
  chmod 751 -R ${HOME}/.local/share/xerosploit;
  echo "Installing ruby gems ...";
  cd ${HOME}/.local/share/xerosploit/tools/bettercap;
  gem install --no-document --verbose rubygems-update;
  update_rubygems;
  gem install --no-document --verbose bundler;
  bundle install -j$(nproc --all) --verbose;
  bundle update --bundler
  gem build bettercap.*;
  gem install xettercap-*;
  for del in xettercap-* ${HOME}/.local/share/xerosploit/run.sh ${HOME}/.local/share/xerosploit/xerosploit.py
  do
    rm -rf $del;
  done
  wget --tries=20 --quiet \
  https://raw.githubusercontent.com/ivam3/i-Haklab/master/.deb/home/.local/etc/xerosploit/xerosploit.py \
    -O ${HOME}/.local/share/xerosploit/xerosploit.py;
} || {
  echo -en "\e[31mE:\e[0m xerosploit directory missing ... \e[33mAborting.\e[0m\n";
  exit 1;
}
wget --tries=20 --quiet https://raw.githubusercontent.com/ivam3/i-Haklab/master/.deb/home/.local/bin/fixer -O /data/data/com.termux/files/usr/bin/fixer
chmod 750 /data/data/com.termux/files/usr/bin/fixer
echo "[*] xerosploit installation finished."
echo "[*] Run 'xerosploit' to execute it."
echo "[*] Run 'fixer' to fix any posible issue."
echo "[!] For help going to https://t.me/Ivam3_Bot."
echo "[*] @Ivam3: thank you for use my package."
####::: REPORT ISSUES AT https://t.me/Ivam3_Bot :::####
