#!/data/data/com.termux/files/usr/bin/bash
IFS=$'\n\t'
v='3.8.9b'
echo "Downloading shc ..."
wget --tries=20 --quiet http://www.datsi.fi.upm.es/~frosal/sources/shc-$v.tgz \
  -O ${TMPDIR}/shc-$v.tgz
[[ -e ${TMPDIR}/shc-$v.tgz ]] && {
  echo "Decompressing ..."
  tar -xzf ${TMPDIR}/shc-$v.tgz -C ${HOME}/.local/share/;
  rm -f ${TMPDIR}/shc-$v.tgz;
  echo "Compiling ..."
  chmod 751 -R ${HOME}/.local/share/shc-$v;
  mv ${HOME}/.local/share/shc-$v ${HOME}/.local/share/shc
  cd ${HOME}/.local/share/shc;
  make;
  make install;
  if [[ -e ${HOME}/.local/share/shc/shc ]]
  then
    chmod +x ${HOME}/.local/share/shc/shc;
    cp ${HOME}/.local/share/shc/shc ${PREFIX}/bin;
  else
    echo -en "\e[31mE:\e[0m Compilation failed!\n";
  fi;
} || {
  echo -en "\e[31mE:\e[0m shc directory missing ... \e[33mAborting.\e[0m\n";
  exit 1;
}
exit 0
####::: REPORT ISSUES AT https://t.me/Ivam3_Bot :::####
